<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Card Data Wiki Markup Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f4f4f4;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .input-group input, 
        .input-group select, 
        .input-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .section-header {
            background-color: #f1f1f1;
            padding: 10px;
            margin-top: 20px;
            font-weight: bold;
            border-radius: 4px;
        }
        #generateButton {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }
        #generateButton:hover {
            background-color: #45a049;
        }
         #outputArea {
            margin-top: 20px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: monospace;
        }
        .skill-description {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        .team-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Card Data Wiki Markup Generator</h1>

        <div class="section-header">Basic Card Information</div>
        <div class="input-group">
            <label for="cardName">Card Name:</label>
            <input type="text" id="cardName">
        </div>
        <div class="input-group">
            <label for="jpName">Japanese Name:</label>
            <input type="text" id="jpName">
        </div>
    

        <div class="section-header">Team Versions</div>
        <div class="input-group">
            <label>Different Team Versions:</label>
            <select id="teamVersionSelect">
                <option value="no">No</option>
                <option value="yes">Yes</option>
                <option value="yesBlank">Yes but Blank</option>
            </select>
        </div>

        <div id="teamVersionInputs" style="display:none;">
            <div class="team-section">
                <div class="input-group">
                    <label>Team Letter 1:</label>
                    <input type="text" id="teamLetter1">
                </div>
                <div class="input-group">
                    <label>Team Image 1:</label>
                    <input type="text" id="teamImage1">
                </div>
            </div>
            <div class="team-section">
                <div class="input-group">
                    <label>Team Letter 2:</label>
                    <input type="text" id="teamLetter2">
                </div>
                <div class="input-group">
                    <label>Team Image 2:</label>
                    <input type="text" id="teamImage2">
                </div>
            </div>
        </div>

        <div id="blankImageInputs" style="display:none;">
            <div class="input-group">
                <label>Solo Image:</label>
                <input type="text" id="soloImage">
            </div>
            <div class="input-group">
                <label>Base Image:</label>
                <input type="text" id="baseImage">
            </div>
            <div class="input-group">
                <label>Blank Image:</label>
                <input type="text" id="blankImage">
            </div>
        </div>

        <div id="singleImageInputs" style="display:none;">
            <div class="input-group">
                <label>Card Image:</label>
                <input type="text" id="cardImage">
            </div>
        </div>

        <div class="input-group">
            <label>SD Image:</label>
            <input type="text" id="sdImage">
        </div>
        <div class="input-group">
            <label>Banner/Event Image:</label>
            <input type="text" id="bannerImage">
        </div>

        <div class="section-header">Card Stats</div>
        <div class="team-section">
            <div class="input-group">
                <label>Min Dance:</label>
                <input type="number" id="minDance">
            </div>
            <div class="input-group">
                <label>Min Vocal:</label>
                <input type="number" id="minVocal">
            </div>
            <div class="input-group">
                <label>Min Act:</label>
                <input type="number" id="minAct">
            </div>
        </div>
        <div class="team-section">
            <div class="input-group">
                <label>Max Dance:</label>
                <input type="number" id="maxDance">
            </div>
            <div class="input-group">
                <label>Max Vocal:</label>
                <input type="number" id="maxVocal">
            </div>
            <div class="input-group">
                <label>Max Act:</label>
                <input type="number" id="maxAct">
            </div>
        </div>

<div class="section-header">Skills</div>
        <div class="input-group">
            <label for="cardRarity">Card Rarity:</label>
            <select id="cardRarity">
                <option value="3">3 Stars</option>
                <option value="4">4 Stars</option>
                <option value="5">5 Stars</option>
            </select>
        </div>

        <div id="skillDescriptions" class="section-header">
            <div id="skillInputContainer"></div>
        </div>
    
        <div class="input-group">
            <label for="potentialSkillType">Potential Skill Type:</label>
            <div id="potentialSkillTypeContainer"></div>
        </div>
        <div id="customPotentialSkillTypeContainer" style="display:none;">
            <div class="input-group">
                <label for="customPotentialSkillType">Custom Potential Skill Type:</label>
                <input type="text" id="customPotentialSkillType" placeholder="Enter custom potential skill type">
            </div>
        </div>
        <div class="input-group">
            <label for="potentialSkillDesc">Potential Skill Description:</label>
            <textarea id="potentialSkill"></textarea>
        </div>
        
        <div class="input-group">
            <label for="supportSkillType">Support Skill Type:</label>
            <div id="supportSkillTypeContainer"></div>
        </div>
        <div id="customSupportSkillTypeContainer" style="display:none;">
            <div class="input-group">
                <label for="customSupportSkillType">Custom Support Skill Type:</label>
                <input type="text" id="customSupportSkillType" placeholder="Enter custom support skill type">
            </div>
        </div>
        <div class="input-group">
            <label for="supportSkillDesc">Support Skill Description:</label>
            <textarea id="supportSkill"></textarea>
        </div>

        <button id="generateButton">Generate Wiki Markup</button>

        <div class="section-header">Output</div>
        <div id="outputArea"></div>
    </div>

    <script>
        // Get team version select and related input sections
        const teamVersionSelect = document.getElementById('teamVersionSelect');
        const teamVersionInputs = document.getElementById('teamVersionInputs');
        const blankImageInputs = document.getElementById('blankImageInputs');
        const singleImageInputs = document.getElementById('singleImageInputs');
        const outputArea = document.getElementById('outputArea');
        const generateButton = document.getElementById('generateButton');

        // Show/hide inputs based on team version selection
        teamVersionSelect.addEventListener('change', function() {
            const selectedValue = this.value;
            
            teamVersionInputs.style.display = 
                selectedValue === 'yes' ? 'block' : 'none';
            
            blankImageInputs.style.display = 
                selectedValue === 'yesBlank' ? 'block' : 'none';
            
            singleImageInputs.style.display = 
                selectedValue === 'no' ? 'block' : 'none';
        });
        
        const cardRaritySelect = document.getElementById('cardRarity');
        const skillDescriptionsContainer = document.getElementById('skillDescriptions');
        const skillInputContainer = document.getElementById('skillInputContainer');

        // Skill type options
        const skillTypeOptions = [
            'Cast Score up',
            'Team Score up', 
            'Lane Score up',
            'Self Score up',
            'Note Change',
            'Extra Score',
            'Auto Performance',
            'Bomb',
            'Multi Combo',
            'Fever Long',
            'Team Support',
            'Lucky Star',
            'Gauge Stock',
            'Score Plus',
            'Other'
        ];

        // Skill description templates
        const skillDescriptionTemplates = {
            'Cast Score up': 'Increases SCORE of [XX]\'s notes by [XXX]% for [X] seconds',
            'Team Score up': 'Increases SCORE of [All/Team X] cast by [XXX]% for [X] seconds',
            'Lane Score up': 'Increases SCORE of [All/Center/Inside/Outside/2 right side/2 left side] lane by [XXX]% for [X] seconds',
            'Self Score up': 'Increases own SCORE by [XXX]% for [X] seconds',
            'Note Change': 'Make all notes their own color and increases SCORE of own notes by [XXX]% for [X] seconds',
            'Extra Score': 'Make all notes the color of the center cast and add [XXX]% of own SCORE to that note for [X] seconds',
            'Auto Performance': 'Automatically handles notes coming to [XX]\'s lane with the best judgment and increases SCORE by [XXX]% for [X] seconds',
            'Bomb': 'Immediately process notes other than long notes for [X] bars in the [XX] with the highest judgment, increasing SCORE by [XXX]%',
            'Multi Combo': 'The number of COMBOs of single notes coming to the [XX] is increased by +[X] for [X] seconds',
            'Fever Long': 'The cumulative SCORE increases by [XXX]% for every [X] COMBO of long notes in all lanes for [X] seconds',
            'Team Support': 'Increases the tap judgment of all [XX] except PASS by [X] level for [X] seconds',
            'Lucky Star': 'Gain [X] Lucky Star (max. 9)',
            'Gauge Stock': 'Gain 1 cheer gauge stock by using it (no duplication)',
            'Score Plus': 'Instantly get +[XXX]',
            'Other': ''
        };

        // Function to create skill type dropdown
        function createSkillTypeDropdown() {
            const select = document.createElement('select');
            skillTypeOptions.forEach(type => {
                const option = document.createElement('option');
                option.value = type;
                option.textContent = type;
                select.appendChild(option);
            });
            return select;
        }

        // Function to update skill descriptions based on rarity
        function updateSkillDescriptions() {
            const rarity = cardRaritySelect.value;
            skillInputContainer.innerHTML = ''; // Clear previous inputs

            // Show/hide skill descriptions section
            skillDescriptionsContainer.style.display = 'block';

            if (rarity === '3') {
                // 3 stars: No skills
                skillInputContainer.innerHTML = `
                    <div class="input-group">
                        <label>Skill Name:</label>
                        <input type="text" id="skillName" value="None" readonly>
                    </div>
                    <div class="input-group">
                        <label>Skill Type:</label>
                        <input type="text" id="skillType" value="None" readonly>
                    </div>
                `;
            } else if (rarity === '4' || rarity === '5') {
                // 4 and 5 stars: Skill descriptions
                const skillDescriptionDiv = document.createElement('div');
                skillDescriptionDiv.className = 'skill-description';
                
                // Determine number of skill levels based on rarity
                const skillLevels = rarity === '4' ? 2 : 4;
                
                // Skill name input
                const skillNameInput = document.createElement('div');
                skillNameInput.className = 'input-group';
                skillNameInput.innerHTML = `
                    <label>Skill Name:</label>
                    <input type="text" id="skillName">
                `;
                skillDescriptionDiv.appendChild(skillNameInput);

                // Skill type container
                const skillTypeContainer = document.createElement('div');
                skillTypeContainer.className = 'input-group';
                skillTypeContainer.innerHTML = `
                    <label>Skill Type:</label>
                    <div id="skillTypeContainer"></div>
                `;
                skillDescriptionDiv.appendChild(skillTypeContainer);

                // Skill type select
                const skillTypeSelect = createSkillTypeDropdown();
                skillTypeSelect.id = 'skillType';
                
                // Custom skill type container (initially hidden)
                const customSkillTypeContainer = document.createElement('div');
                customSkillTypeContainer.id = 'customSkillTypeContainer';
                customSkillTypeContainer.style.display = 'none';
                customSkillTypeContainer.innerHTML = `
                    <input type="text" id="customSkillType" placeholder="Enter custom skill type">
                `;

                // Event listener for skill type selection
                skillTypeSelect.addEventListener('change', function() {
                    const selectedType = this.value;
                    const description = skillDescriptionTemplates[selectedType];
                    
                    // Show/hide custom skill type input
                    customSkillTypeContainer.style.display = 
                        selectedType === 'Other' ? 'block' : 'none';

                    // Populate skill descriptions
                    for (let i = 1; i <= skillLevels; i++) {
                        const skillDesc = document.getElementById(
                            i === 1 ? 'skillBase' : 
                            i === 2 ? 'skillPlus' : 
                            i === 3 ? 'skillPlusPlus' : 'skillPlusPlusPlus'
                        );
                        skillDesc.value = selectedType === 'Other' ? '' : description;
                    }
                });

                // Append skill type select and custom type container
                skillTypeContainer.querySelector('#skillTypeContainer').appendChild(skillTypeSelect);
                skillDescriptionDiv.appendChild(customSkillTypeContainer);

                // Create skill description textareas
                const skillDescriptions = [
                    { id: 'skillBase', label: 'Skill Description (Base)' },
                    { id: 'skillPlus', label: 'Skill Description (Skill+)' }
                ];

                if (rarity === '5') {
                    skillDescriptions.push(
                        { id: 'skillPlusPlus', label: 'Skill Description (Skill++)' },
                        { id: 'skillPlusPlusPlus', label: 'Skill Description (Skill+++)' }
                    );
                }

                skillDescriptions.forEach(desc => {
                    const descGroup = document.createElement('div');
                    descGroup.className = 'input-group';
                    descGroup.innerHTML = `
                        <label>${desc.label}:</label>
                        <textarea id="${desc.id}"></textarea>
                    `;
                    skillDescriptionDiv.appendChild(descGroup);
                });

                skillInputContainer.appendChild(skillDescriptionDiv);
            }
        }

        // Initial call to set up skill descriptions
        updateSkillDescriptions();

        // Event listener for rarity change
        cardRaritySelect.addEventListener('change', updateSkillDescriptions);
         
        // Potential Skill Type Options
        const potentialSkillTypeOptions = [
            'Costumes',
            'Team Together',
            'Intimacy Lv',
            'Specific Cast (inc)',
            'Specific Cast (dec)',
            'Performance',
            'Specific Performance',
            '1st position',
            'Other'
        ];

        // Potential Skill Description Templates
        const potentialSkillDescriptionTemplates = {
            'Costumes': 'Increase all own parameters for each cast member in (costume type) during the performance by [XX]%',
            'Team Together': 'Increase all own parameters for Team [X] cast during the performance by [XX]%',
            'Intimacy Lv': 'Increase all own parameters by [XX]% at each level of intimacy',
            'Specific Cast (inc)': 'When (designated cast member) participates in a performance, own (Da/Vo/Ac) parameter is increased by [XX]%',
            'Specific Cast (dec)': 'When (designated cast member) participates in a performance, own (Da/Vo/Ac) parameter is decreased by [XX]%',
            'Performance': 'During the performance, all own parameters are increased by [XX]%',
            'Specific Performance': 'When performing (Performance song), all own parameters is increased by [XX]%',
            '1st position': 'When formed in the 1st group, all own parameters are increased by [XXX]%',
            'Other': ''
        };

        // Get DOM elements
        const potentialSkillTypeContainer = document.getElementById('potentialSkillTypeContainer');
        const customPotentialSkillTypeContainer = document.getElementById('customPotentialSkillTypeContainer');
        const potentialSkillDescInput = document.getElementById('potentialSkill');


        // Create Potential Skill Type Dropdown
        function createPotentialSkillTypeDropdown() {
            const select = document.createElement('select');
            select.id = 'potentialSkillType';

            potentialSkillTypeOptions.forEach(type => {
                const option = document.createElement('option');
                option.value = type;
                option.textContent = type;
                select.appendChild(option);
            });

            // Add event listener for dropdown change
            select.addEventListener('change', function() {
                const selectedType = this.value;
                
                // Show/hide custom potential skill type input
                customPotentialSkillTypeContainer.style.display = 
                    selectedType === 'Other' ? 'block' : 'none';

                // Populate potential skill description
                potentialSkillDescInput.value = 
                    selectedType === 'Other' ? '' : 
                    potentialSkillDescriptionTemplates[selectedType];
            });

            return select;
        }

        // Initial setup of potential skill type dropdown
        const potentialSkillTypeDropdown = createPotentialSkillTypeDropdown();
        potentialSkillTypeContainer.appendChild(potentialSkillTypeDropdown);

        
        // Support Skill Type Options
        const supportSkillTypeOptions = [
            'Performance Correction Value',
            'Team Gauge Support',
            'Team Gauge Support (Costume specific)',
            'Initial Gauge Support',
            'Music Proficiency',
            'Chance Value',
            'Chip',
            'Chip (Unei only)',
            'Yell',
            'Other (Unei Only)'
        ];

        // Support Skill Description Templates
        const supportSkillDescriptionTemplates = {
            'Performance Correction Value': 'Greatly/Medium/Slightly/Subtlety increases (Da/Vo/Ac) correction value of the performance',
            'Team Gauge Support': 'For Team [X] cast, the amount of Cheer Gauge is increased by [XX]%',
            'Team Gauge Support (Costume specific)': 'For each cast member in (costume type), the amount by which the member\'s Cheer Gauge is increased by [XX]%',
            'Initial Gauge Support': 'Initial support gauge +50%',
            'Music Proficiency': 'When performing (Performance song), the proficiency level of the organized cast is increased by 2',
            'Chance Value': 'At the end of the performance, the chance value total is increased by [XX]',
            'Chip': 'At the end of the performance, acquire a chip with a probability of [XX]%',
            'Chip (Unei only)': 'The performance reward will be 1 slot and will get 1 chip',
            'Yell': 'At the end of the performance, Yell gained is increased by [XX]%',
            'Other (Unei Only)': 'The number of ★1 ★2 cards organized at the time of the performance will increase the number of performance rewards.'
        };

        // Get DOM elements
        const supportSkillTypeContainer = document.getElementById('supportSkillTypeContainer');
        const customSupportSkillTypeContainer = document.getElementById('customSupportSkillTypeContainer');
        const supportSkillDescInput = document.getElementById('supportSkill');

        // Create Support Skill Type Dropdown
        function createSupportSkillTypeDropdown() {
            const select = document.createElement('select');
            select.id = 'supportSkillType';

            supportSkillTypeOptions.forEach(type => {
                const option = document.createElement('option');
                option.value = type;
                option.textContent = type;
                select.appendChild(option);
            });

            // Add event listener for dropdown change
            select.addEventListener('change', function() {
                const selectedType = this.value;
                
                // Show/hide custom support skill type input
                customSupportSkillTypeContainer.style.display = 
                    selectedType === 'Other' ? 'block' : 'none';

                // Populate support skill description
                supportSkillDescInput.value = 
                    selectedType === 'Other' ? '' : 
                    supportSkillDescriptionTemplates[selectedType];
            });

            return select;
        }

        // Initial setup of support skill type dropdown
        const supportSkillTypeDropdown = createSupportSkillTypeDropdown();
        supportSkillTypeContainer.appendChild(supportSkillTypeDropdown);
        
        

        // Generate wiki markup
        generateButton.addEventListener('click', function() {
            // Collect all input values
            const values = {
                cardName: document.getElementById('cardName').value,
                jpName: document.getElementById('jpName').value,
                teamVersion: teamVersionSelect.value,
                
                // Team version specific inputs
                teamLetter1: document.getElementById('teamLetter1')?.value || '',
                teamImage1: document.getElementById('teamImage1')?.value || '',
                teamLetter2: document.getElementById('teamLetter2')?.value || '',
                teamImage2: document.getElementById('teamImage2')?.value || '',
                
                // Blank/Solo images
                soloImage: document.getElementById('soloImage')?.value || '',
                baseImage: document.getElementById('baseImage')?.value || '',
                blankImage: document.getElementById('blankImage')?.value || '',
                
                // Single image
                cardImage: document.getElementById('cardImage')?.value || '',
                
                // Other images
                sdImage: document.getElementById('sdImage').value,
                bannerImage: document.getElementById('bannerImage').value,
                
                // Stats
                minDance: document.getElementById('minDance').value,
                minVocal: document.getElementById('minVocal').value,
                minAct: document.getElementById('minAct').value,
                maxDance: document.getElementById('maxDance').value,
                maxVocal: document.getElementById('maxVocal').value,
                maxAct: document.getElementById('maxAct').value
            };
            
            const rarity = cardRaritySelect.value;
            
            // Collect base values (same as before)
            const baseValues = {
                // Previous base values collection
                cardRarity: document.getElementById('cardRarity').value,
                cardRarity: rarity
            };
            

            // Determine support skill type
            const supportSkillType = document.getElementById('supportSkillType').value === 'Other'
                ? document.getElementById('customSupportSkillType').value
                : document.getElementById('supportSkillType').value;
            
            // Determine potential skill type
            const potentialSkillType = document.getElementById('potentialSkillType').value === 'Other'
                ? document.getElementById('customPotentialSkillType').value
                : document.getElementById('potentialSkillType').value;
            

            // Generate wiki markup
            let wikiMarkup = `{{Card Data
|Card Name=${values.cardName}
|JP Name=${values.jpName}`;

            // Add team version specific content
            if (values.teamVersion === 'yes') {
                wikiMarkup += `

|Different Team Version=Yes
|Team Letter 1=${values.teamLetter1}
|Card Image 1=${values.teamImage1}
|Team Letter 2=${values.teamLetter2}
|Card Image 2=${values.teamImage2}`;
            } else if (values.teamVersion === 'yesBlank') {
                wikiMarkup += `

|Different Team Version=Yes but Blank
|Solo Image=${values.soloImage}
|Base Image=${values.baseImage}
|Blank Image=${values.blankImage}`;
            } else {
                wikiMarkup += `

|Different Team Version=No
|Card Image=${values.cardImage}`;
            }

            // Continue with rest of the markup
            wikiMarkup += `
|SD Image=${values.sdImage}
|Banner/event image=${values.bannerImage}

|minDance=${values.minDance}
|minVocal=${values.minVocal}
|minAct=${values.minAct}
|maxDance=${values.maxDance}
|maxVocal=${values.maxVocal}
|maxAct=${values.maxAct}`;

// Skill description based on rarity
            if (rarity === '3') {
                wikiMarkup += `
|Skill Name=None
|Skill Type=None`;
            } else {
                // Get skill inputs
                const skillName = document.getElementById('skillName').value;
                const skillType = document.getElementById('skillType').value === 'Other' 
                    ? document.getElementById('customSkillType').value 
                    : document.getElementById('skillType').value;

                wikiMarkup += `
|Skill Name=${skillName}
|Skill Type=${skillType}
|Appeal Skill desc=<tabber>`;

                if (rarity === '4') {
                    wikiMarkup += `
Skill=${document.getElementById('skillBase').value}
|-|
Skill+=${document.getElementById('skillPlus').value}
|-|`;
                } else if (rarity === '5') {
                    wikiMarkup += `
Skill=${document.getElementById('skillBase').value}
|-|
Skill+=${document.getElementById('skillPlus').value}
|-|
Skill++=${document.getElementById('skillPlusPlus').value}
|-|
Skill+++=${document.getElementById('skillPlusPlusPlus').value}
|-|`;
                }

                wikiMarkup += `
</tabber>`;
            }
            
wikiMarkup += `
|Potential Skill desc=${document.getElementById('potentialSkill').value || ''}`;
            
            wikiMarkup += `
|Support Skill desc=${document.getElementById('supportSkill').value || ''}`;

            wikiMarkup += `
}}`;

            // Display the generated markup
            outputArea.textContent = wikiMarkup;
        });
    </script>
</body>
</html>
